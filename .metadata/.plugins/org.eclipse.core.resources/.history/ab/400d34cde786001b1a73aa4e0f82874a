package oop0317;

import java.util.Calendar;
import java.util.Locale;

public class Jumin {
	private String jumin;//주민번호

	public Jumin(String jumin) {
		this.jumin = jumin;
	}
	public Jumin() {	}
	
	public boolean validate() {
		//주민번호가 유효한지 검증
		//970129-2417212
		boolean flag = false;
		if(jumin.length()!= 13) {
			return flag;
		}
		String[] jumins = jumin.split("");
		int[] j = new int[14];
		int result = 0;
		for(int i =0; i<jumins.length ; i++) {
			j[i] = Integer.parseInt(jumins[i]);
			if(i+2<10)
			result +=j[i]*((i+2)%10);
			else result += j[i]*((i+2)%8);
		}
		if((11-(result%11))%11==j[13]) {
			flag = true;
		}
		return flag;
	}	
	public void disp() {
		//생년월일, 성별, 나이, 띠 , 살아온 날수 출력하기 
		//쥐 소 호랑이 토끼 용 뱀 말 양 원숭이 닭 개 돼지
		/*
		 * 생년월일 : 1989년 12월 30일 -> 
		 * 			주민번호 앞자리 짤라서 가공
		 * 현재 날짜 기준 
		 * 성별 : 남자 
		 * 나이 : 32 -> GregorianCalendar 클래스 이용
		 * 띠 : ->태어난년도 %12 , 0 원숭이 1닭 2 개..
		 */
		 String nai = ""; 
		 String month = jumin.substring(2,4);
		 String day = jumin.substring(4,6);
		 String sex = jumin.substring(6,7);
		 if(sex.equals(1)||sex.equals(2)) {
			 nai = "19" + jumin.substring(0,2);
		 }else nai = "20" + jumin.substring(0,2);
		 System.out.printf("%s년 %s월 %s일 \n", nai,month,day);
		 
		 if(sex.equals(1)||sex.equals(3)) {
			 System.out.println("성별 : 남자");
		 }else System.out.println("성별 : 여자");
		 Calendar cal = Calendar.getInstance(Locale.KOREA);
		 int currYear = cal.YEAR;
		 int currMonth = cal.MONTH;
		 int currDay = cal.DAY_OF_MONTH;
		 int Byear = Integer.parseInt(nai);
		 int Bmonth = Integer.parseInt(month);
		 int Bday = Integer.parseInt(day);
		 
		 int age = Byear - currYear;
	
	}
}
